<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Login | Academic Clan</title>
        <link rel="stylesheet" href="./styles.css" />
        

        <script>
            function validateLoginForm(event){
                event.preventDefault();

                const emailInput = document.getElementById('email');
                const passwordInput = document.getElementById('password');
                const emailPattern = /^[a-z0-9._]+@ashesi\.edu\.gh$/;
                const passwordPattern = /^(?=.*[A-Z])(?=.*\d{3,})(?=.*[@#$%^&+=!]).{8,}$/;

                let isValid = true;

                if(!emailPattern.test(emailInput.value)){
                    showError('email-error', 'Please enter a valid email.');
                    isValid = false;
                } else {
                    clearError('email-error');
                }

                if(isValid){
                    window.location.href = "dashboard.html";
                }
            }

            function clearError(elementId){
                const errorElement = document.getElementById(elementId);
                errorElement.innerText = '';
                errorElement.style.display = 'none';
            }
        </script>
    </head>
    <body>
        <div class="container">
            <form id="loginForm" action="dashboard.html" method="post" onsubmit="validateLoginForm(event)">
                <h1>Login</h1>

                <div class="input-box">
                    <input type="email" id="email"
                    placeholder="Email" required/>
                    <span id="email-error" class="error-message"
                    style="display:none; color:red;"></span>
                </div>

                <div class="input-box">
                    <input type="password" id="password" 
                    placeholder="Password" required/>
                    <span id="password-error" class="error-message"
                    style="display:none; color: red;"></span>
                </div>

                <div class="remember-forgot">
                    <label>
                        <input type="checkbox" /> Remember Me
                    </label>
                    <a href="RestPassword.html">Forgot password?</a>
                </div>

                <button type="submit" class="btn">Login</button>

                <div class="register-link">
                    <p>
                        Don't have an account? 
                        <a href="SignUp.html"> Register here!</a>
                    </p>
                </div>
            </form>
        </div>
    </body>
</html>
